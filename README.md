# Trend
Trend-Miniproject Screenshots

<img width="1919" height="966" alt="Trend-miniproject2-1  Prometheus-monitor-health check" src="https://github.com/user-attachments/assets/4f217e82-a1d5-4cfe-a0be-664b4476c1f3" />
<img width="1919" height="972" alt="Trend-miniproject2-2  Prometheus status running" src="https://github.com/user-attachments/assets/ecaedce0-8691-4157-97cd-a592716e8613" />
<img width="1919" height="968" alt="Trend-miniproject2-3  Prometheus page open using public IP" src="https://github.com/user-attachments/assets/c1638b02-b902-4522-8d22-50b63608341d" />
<img width="1915" height="967" alt="Trend-miniproject2-4  Prometheusymlfile" src="https://github.com/user-attachments/assets/7ab0e10f-06e8-48f7-8dfe-cc06b46e8fb4" />
<img width="1913" height="968" alt="Trend-miniproject2-5  Prometheus file list" src="https://github.com/user-attachments/assets/b5a5ae41-0f50-4f46-b08b-392ae533156f" />
<img width="1907" height="969" alt="Trend-miniproject2-6  Prometheus port 9090 map" src="https://github.com/user-attachments/assets/18d5d027-ca2f-49b5-b628-9dd00d69621b" />
<img width="1919" height="967" alt="Trend-miniproject2-7  Prometheus inbound rules 9090" src="https://github.com/user-attachments/assets/7c887249-3af6-4222-829c-95d12cd9fbc0" />
<img width="1917" height="972" alt="Trend-miniproject2-8  pods Prometheus and Garafana lists" src="https://github.com/user-attachments/assets/8a23bac0-d491-41e2-ace7-6362979a7371" />
<img width="1919" height="969" alt="Trend-miniproject2-9  Install Prometheus" src="https://github.com/user-attachments/assets/2abf211e-dd54-4494-bbfe-c12afd8e2ba5" />
<img width="1916" height="964" alt="Trend-miniproject2-10  Garafana admin access" src="https://github.com/user-attachments/assets/90d3f9a2-2b1f-4322-9ea1-3f4f94219d52" />
<img width="1919" height="965" alt="Trend-miniproject2-11  Cloudwatch dashboard" src="https://github.com/user-attachments/assets/73e2416b-25f0-4162-9a31-67e638a88dd1" />
<img width="1913" height="972" alt="Trend-miniproject2-12  Cloudwatch logs insights" src="https://github.com/user-attachments/assets/08b0db4f-7299-4066-ab89-77293a66b47b" />
<img width="1919" height="969" alt="Trend-miniproject2-13  Declarative Pipeline output status" src="https://github.com/user-attachments/assets/2e59a5ad-b02a-4c99-b2ff-7032f1fe662f" />
<img width="1919" height="973" alt="Trend-miniproject2-14  Trend-CICD-Pipeline output status" src="https://github.com/user-attachments/assets/d104d984-12bc-465e-b53f-408f1e9f22f8" />
<img width="1919" height="741" alt="Trend-miniproject2-15  Jenkinsfiles" src="https://github.com/user-attachments/assets/4ba3da48-8092-4a61-9443-9c87fa688c93" />
<img width="1919" height="971" alt="Trend-miniproject2-16  LoadBalancer ARN url" src="https://github.com/user-attachments/assets/83b41edf-34d3-422f-ba31-43e777bcaca0" />
<img width="1919" height="962" alt="Trend-miniproject2-17  Docker push" src="https://github.com/user-attachments/assets/60dff391-220c-4462-81f9-84b38517b5e9" />
<img width="1919" height="873" alt="Trend-miniproject2-18  Deployment yml file" src="https://github.com/user-attachments/assets/f6cb4e5f-86d9-4fca-8aea-e13a2579cb72" />
<img width="1919" height="972" alt="Trend-miniproject2-19  Docker images" src="https://github.com/user-attachments/assets/c67788ca-ddc8-4b1b-a1c9-a275da67508f" />
<img width="1469" height="758" alt="Trend-miniproject2-20  kubectl get nodes" src="https://github.com/user-attachments/assets/9a98652e-3045-4103-9b43-1e968b988674" />
<img width="1914" height="878" alt="Trend-miniproject2-21  Trend-cluster-nodegroup" src="https://github.com/user-attachments/assets/ca799d50-f914-433a-b8b4-6c197ce3aaa9" />
<img width="1476" height="756" alt="Trend-miniproject2-22  kube config file" src="https://github.com/user-attachments/assets/0a75dea8-ab91-49d3-aa56-e70cfec4ccc3" />
<img width="1908" height="969" alt="Trend-miniproject2-23  AWS config" src="https://github.com/user-attachments/assets/d65066d8-df0f-4200-b630-c463a9cec6f8" />
<img width="1914" height="971" alt="Trend-miniproject2-24  Git init and push" src="https://github.com/user-attachments/assets/dfa1b796-3d32-4eea-a3f9-75469919ada4" />
<img width="1914" height="971" alt="Trend-miniproject2-25  Git webhooks" src="https://github.com/user-attachments/assets/7dbe1f23-3392-4091-aeb8-eb972566dbdc" />
<img width="1919" height="966" alt="Trend-miniproject2-26  Jenkins Config url" src="https://github.com/user-attachments/assets/d19a91fc-0e66-467a-b0f9-48f4f3e9d71d" />
<img width="1919" height="972" alt="Trend-miniproject2-27  Jenkins getstart" src="https://github.com/user-attachments/assets/3ecbee82-1490-4424-94a3-bbc10ebc8cfa" />
<img width="1908" height="969" alt="Trend-miniproject2-28  Jenkins customize" src="https://github.com/user-attachments/assets/87bc0a2e-bc64-488e-b197-05be5d5d94dd" />
<img width="1912" height="976" alt="Trend-miniproject2-29  Jenkins admin password to set" src="https://github.com/user-attachments/assets/c6063e9e-e811-4d44-85ca-88a77f2920d6" />
<img width="1918" height="970" alt="Trend-miniproject2-30  Jenkins running status" src="https://github.com/user-attachments/assets/b535144f-16ab-41eb-9848-82915b6e128d" />
<img width="1481" height="831" alt="Trend-miniproject2-31  jenkins config to github" src="https://github.com/user-attachments/assets/adaded3e-df05-4a73-a78d-2d37458d6e64" />
<img width="1910" height="1018" alt="Trend-miniproject2-32  Jenkins Trigger to set GITHub" src="https://github.com/user-attachments/assets/42b3fed1-1a28-49b9-8e99-9d0c6c04fa3b" />
<img width="1908" height="1019" alt="Trend-miniproject2-33  Jenkins plugin added" src="https://github.com/user-attachments/assets/f68a50a1-d370-4c4e-a819-d03b67b3f64b" />
<img width="1919" height="1019" alt="Trend-miniproject2-34  Jenkins login" src="https://github.com/user-attachments/assets/7a527186-a54b-4f43-ba82-142546f2f6a5" />
<img width="1919" height="1022" alt="Trend-miniproject2-35  Jenkins user admin page" src="https://github.com/user-attachments/assets/510c85a5-8073-49d1-902d-2a900bb5de58" />
<img width="1478" height="755" alt="Trend-miniproject-2-36  kubectl get svc" src="https://github.com/user-attachments/assets/988b9772-aa57-467d-8031-77d797ff49a1" />
<img width="1483" height="763" alt="Trend-miniproject2-37  Terraform install" src="https://github.com/user-attachments/assets/f3ba2e06-4f58-4b64-b79b-27037c5853cd" />
<img width="1474" height="758" alt="Trend-miniproject2-38  Terraform installed and version" src="https://github.com/user-attachments/assets/b01f6934-7f17-4850-b208-ebdbd5236e40" />
<img width="1913" height="971" alt="Trend-miniproject2-39  Localhost webpage3000" src="https://github.com/user-attachments/assets/75543c69-7b85-4ae9-b267-6e43eb956cd1" />
<img width="1479" height="754" alt="Trend-miniproject2-40  Terraform main tf file" src="https://github.com/user-attachments/assets/31f5896e-f197-4123-b84a-3311441d68e6" />
<img width="1915" height="967" alt="Trend-miniproject2-41  DockerHub dasboard page" src="https://github.com/user-attachments/assets/0a3a1a81-0ae8-40bb-a127-51d806979fdf" />
<img width="1476" height="755" alt="Trend-miniproject2-42  Docker push" src="https://github.com/user-attachments/assets/3b76ad37-4026-4384-9934-96010308c217" />
<img width="1478" height="764" alt="Trend-miniproject2-43  Git Clone reop" src="https://github.com/user-attachments/assets/cd1a9178-d637-463d-a51e-5821eedc24ed" />
<img width="1919" height="976" alt="Trend-miniproject2-44  EC2 Instance VM and EKS-Cluster" src="https://github.com/user-attachments/assets/4efc2cc2-10e1-4b98-ac33-b0049d71c3aa" />

ðŸš€ Full Step-by-Step Deployment Guide
1. Clone Application Repository
git clone https://github.com/Vennilavan12/Trend.git
cd Trend

2. Run Locally (Verify App on Port 3000)
npm install
npm start


âœ… Visit: http://localhost:3000

3. Dockerize the Application

Inside project root, create Dockerfile:

# Step 1: Build the React app
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# Step 2: Serve the build using nginx
FROM nginx:alpine
COPY --from=build /app/build /usr/share/nginx/html
EXPOSE 3000
CMD ["nginx", "-g", "daemon off;"]

Create .dockerignore
node_modules
npm-debug.log
Dockerfile
.git
.gitignore

Build & Run Docker
docker build -t trend-app .
docker run -d -p 3000:80 trend-app


âœ… Visit: http://localhost:3000

4. Push Image to DockerHub

Create a repo in DockerHub
.

Login and push:

docker login
docker tag trend-app your-dockerhub-username/trend-app:latest
docker push your-dockerhub-username/trend-app:latest

5. Terraform Infrastructure Setup

Create a new folder infra/ â†’ main.tf

provider "aws" {
  region = "us-east-1"
}

resource "aws_vpc" "main" {
  cidr_block = "10.0.0.0/16"
}

resource "aws_subnet" "subnet1" {
  vpc_id            = aws_vpc.main.id
  cidr_block        = "10.0.1.0/24"
  availability_zone = "us-east-1a"
}

resource "aws_iam_role" "eks_role" {
  name = "eksClusterRole"
  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Principal = {
        Service = "eks.amazonaws.com"
      }
      Action = "sts:AssumeRole"
    }]
  })
}

resource "aws_eks_cluster" "eks" {
  name     = "trend-cluster"
  role_arn = aws_iam_role.eks_role.arn

  vpc_config {
    subnet_ids = [aws_subnet.subnet1.id]
  }
}

resource "aws_instance" "jenkins" {
  ami           = "ami-08c40ec9ead489470" # Ubuntu 22.04 LTS (update per region)
  instance_type = "t2.medium"
  key_name      = "your-keypair"
  tags = {
    Name = "JenkinsServer"
  }
}

Run Terraform
cd infra
terraform init
terraform plan
terraform apply -auto-approve


âœ… This provisions VPC, Subnet, EC2 (Jenkins), IAM, and EKS cluster.

6. Kubernetes Deployment

Inside k8s/ create:

deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: trend-deployment
  labels:
    app: trend
spec:
  replicas: 2
  selector:
    matchLabels:
      app: trend
  template:
    metadata:
      labels:
        app: trend
    spec:
      containers:
        - name: trend
          image: your-dockerhub-username/trend-app:latest
          ports:
            - containerPort: 80

service.yaml
apiVersion: v1
kind: Service
metadata:
  name: trend-service
spec:
  type: LoadBalancer
  selector:
    app: trend
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80


Deploy:

kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml


âœ… Get LoadBalancer URL:

kubectl get svc trend-service

7. Jenkins Setup

On EC2 Jenkins server:

Install Jenkins, Docker & kubectl
sudo apt update
sudo apt install -y openjdk-11-jdk docker.io unzip
sudo usermod -aG docker jenkins
sudo systemctl restart jenkins

# Install kubectl
curl -LO "https://dl.k8s.io/release/$(curl -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
chmod +x kubectl && sudo mv kubectl /usr/local/bin/


Install Jenkins Plugins:

Docker Pipeline

GitHub

Kubernetes

Pipeline

8. Jenkins Pipeline (Declarative)

Create Jenkinsfile in project root:

pipeline {
    agent any

    environment {
        DOCKERHUB_CREDENTIALS = credentials('dockerhub-creds')
        DOCKER_IMAGE = "your-dockerhub-username/trend-app:latest"
        KUBECONFIG_CREDENTIALS = credentials('eks-kubeconfig')
    }

    stages {
        stage('Checkout') {
            steps {
                git branch: 'main', url: 'https://github.com/Vennilavan12/Trend.git'
            }
        }
        stage('Build Docker Image') {
            steps {
                sh 'docker build -t $DOCKER_IMAGE .'
            }
        }
        stage('Push to DockerHub') {
            steps {
                sh 'echo $DOCKERHUB_CREDENTIALS_PSW | docker login -u $DOCKERHUB_CREDENTIALS_USR --password-stdin'
                sh 'docker push $DOCKER_IMAGE'
            }
        }
        stage('Deploy to EKS') {
            steps {
                writeFile file: 'kubeconfig', text: "$KUBECONFIG_CREDENTIALS"
                sh 'export KUBECONFIG=$WORKSPACE/kubeconfig && kubectl apply -f k8s/'
            }
        }
    }
}


âœ… Configure:

Jenkins credentials â†’ dockerhub-creds

Jenkins credentials â†’ eks-kubeconfig (from AWS CLI aws eks update-kubeconfig).

9. Monitoring Setup
Option A: Prometheus + Grafana

Deploy Prometheus & Grafana in EKS:

kubectl create namespace monitoring
kubectl apply -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/main/bundle.yaml


Install Grafana Helm chart and expose via LoadBalancer.

Option B: AWS CloudWatch

Enable EKS CloudWatch container insights.

10. Version Control (GitHub)
echo "node_modules/" > .gitignore
echo "Dockerfile" > .dockerignore

git init
git remote add origin https://github.com/your-username/trend-deployment.git
git add .
git commit -m "Initial CI/CD setup"
git push origin main

ARN URL link: a0103bf4705c74a34a85c0d94730db44-271939350.ap-south-1.elb.amazonaws.com
Update from ponvelm
